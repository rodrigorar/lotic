<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="410px" preserveAspectRatio="none" style="width:1407px;height:410px;background:#FFFFFF;" version="1.1" viewBox="0 0 1407 410" width="1407px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="192" x2="192" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="421.5" x2="421.5" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="643.5" x2="643.5" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="817.5" x2="817.5" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1031.5" x2="1031.5" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1185.5" x2="1185.5" y1="67.2969" y2="332.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1372.5" x2="1372.5" y1="67.2969" y2="332.0938"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="5" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="110" x="12" y="39.6982">«Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="33.5" y="55.9951">Controller</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="5" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="110" x="12" y="351.0889">«Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="33.5" y="367.3857">Controller</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="139" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="93" x="146" y="39.6982">«Application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="161.5" y="55.9951">UseCase</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="139" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="93" x="146" y="351.0889">«Application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="161.5" y="367.3857">UseCase</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="315.5" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="198" x="322.5" y="39.6982">«Application / Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="366" y="55.9951">ExternalProvider</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="315.5" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="198" x="322.5" y="351.0889">«Application / Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="366" y="367.3857">ExternalProvider</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="537.5" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="198" x="544.5" y="39.6982">«Application / Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="605" y="55.9951">UnitOfWork</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="537.5" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="198" x="544.5" y="351.0889">«Application / Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="605" y="367.3857">UnitOfWork</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="759.5" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="782.5" y="39.6982">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="766.5" y="55.9951">DomainService</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="759.5" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="782.5" y="351.0889">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="766.5" y="367.3857">DomainService</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="983.5" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="996.5" y="39.6982">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="990.5" y="55.9951">ValueObject</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="983.5" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="996.5" y="351.0889">«Domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="990.5" y="367.3857">ValueObject</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="1090.5" y="19.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="176" x="1097.5" y="39.6982">«Domain / Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1148.5" y="55.9951">Repository</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="1090.5" y="331.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="176" x="1097.5" y="351.0889">«Domain / Infrastructure»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1148.5" y="367.3857">Repository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1345.5" y="63.9951">AppDB</text><path d="M1354.5,15 C1354.5,5 1372.5,5 1372.5,5 C1372.5,5 1390.5,5 1390.5,15 L1390.5,41 C1390.5,51 1372.5,51 1372.5,51 C1372.5,51 1354.5,51 1354.5,41 L1354.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1354.5,15 C1354.5,25 1372.5,25 1372.5,25 C1372.5,25 1390.5,25 1390.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="1345.5" y="344.0889">AppDB</text><path d="M1354.5,357.3906 C1354.5,347.3906 1372.5,347.3906 1372.5,347.3906 C1372.5,347.3906 1390.5,347.3906 1390.5,357.3906 L1390.5,383.3906 C1390.5,393.3906 1372.5,393.3906 1372.5,393.3906 C1372.5,393.3906 1354.5,393.3906 1354.5,383.3906 L1354.5,357.3906 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1354.5,357.3906 C1354.5,367.3906 1372.5,367.3906 1372.5,367.3906 C1372.5,367.3906 1390.5,367.3906 1390.5,357.3906 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="180.5,79.2969,190.5,83.2969,180.5,87.2969,184.5,83.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="67" x2="186.5" y1="83.2969" y2="83.2969"/><polygon fill="#181818" points="203.5,108.4297,193.5,112.4297,203.5,116.4297,199.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="631.5,108.4297,641.5,112.4297,631.5,116.4297,635.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="197.5" x2="637.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="209.5" y="107.3638">Create a UnitOfWork</text><polygon fill="#181818" points="203.5,137.5625,193.5,141.5625,203.5,145.5625,199.5,141.5625" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="409.5,137.5625,419.5,141.5625,409.5,145.5625,413.5,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="197.5" x2="415.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="209.5" y="136.4966">Call external providers if needed</text><polygon fill="#181818" points="806,151.5625,816,155.5625,806,159.5625,810,155.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="192.5" x2="812" y1="155.5625" y2="155.5625"/><polygon fill="#181818" points="829,180.6953,819,184.6953,829,188.6953,825,184.6953" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1020,180.6953,1030,184.6953,1020,188.6953,1024,184.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="1026" y1="184.6953" y2="184.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="835" y="179.6294">Operate over the ValueObject</text><polygon fill="#181818" points="1173.5,209.8281,1183.5,213.8281,1173.5,217.8281,1177.5,213.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="818" x2="1179.5" y1="213.8281" y2="213.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="825" y="208.7622">Do any CRUD operations needed</text><polygon fill="#181818" points="1196.5,238.9609,1186.5,242.9609,1196.5,246.9609,1192.5,242.9609" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1360.5,238.9609,1370.5,242.9609,1360.5,246.9609,1364.5,242.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1190.5" x2="1366.5" y1="242.9609" y2="242.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1202.5" y="237.895">Operate on the Database</text><polygon fill="#181818" points="829,252.9609,819,256.9609,829,260.9609,825,256.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="1184.5" y1="256.9609" y2="256.9609"/><polygon fill="#181818" points="203.5,266.9609,193.5,270.9609,203.5,274.9609,199.5,270.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="197.5" x2="817" y1="270.9609" y2="270.9609"/><polygon fill="#181818" points="631.5,296.0938,641.5,300.0938,631.5,304.0938,635.5,300.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="192.5" x2="637.5" y1="300.0938" y2="300.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="199.5" y="295.0278">Close UnitOfWork</text><polygon fill="#181818" points="78,310.0938,68,314.0938,78,318.0938,74,314.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72" x2="191.5" y1="314.0938" y2="314.0938"/><!--MD5=[7fd21c89d7ec49752410a6ede5301028]
@startuml
participant Controller << Infrastructure >>
participant UseCase << Application >>
participant ExternalProvider << Application / Infrastructure >>
participant UnitOfWork << Application / Infrastructure >>
participant DomainService << Domain >>
participant ValueObject << Domain >>
participant Repository << Domain / Infrastructure >>
database AppDB

Controller -> UseCase
UseCase <-> UnitOfWork: Create a UnitOfWork
UseCase <-> ExternalProvider: Call external providers if needed
UseCase -> DomainService
DomainService <-> ValueObject: Operate over the ValueObject
DomainService -> Repository: Do any CRUD operations needed
Repository <-> AppDB: Operate on the Database
Repository -> DomainService
DomainService -> UseCase
UseCase -> UnitOfWork: Close UnitOfWork
UseCase -> Controller
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>